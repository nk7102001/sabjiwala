<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Edit Profile - Sabjiwala</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col font-sans">

  <!-- Navbar -->
  <%- include('partials/navbar') %>

  <!-- Main Content -->
  <main class="flex-grow w-full px-3 sm:px-6 lg:px-8 py-6 sm:py-10" role="main">
    <section class="bg-white p-5 sm:p-8 md:p-10 rounded-lg shadow-lg w-full">

      <!-- Page Heading -->
      <h1 class="text-2xl sm:text-3xl lg:text-4xl font-extrabold mb-6 text-green-700">
        Edit Your Profile
      </h1>

      <!-- Success Message -->
      <% if (typeof success_msg !== 'undefined' && success_msg && success_msg.length) { %>
        <div class="mb-4 p-3 sm:p-4 bg-green-100 text-green-700 rounded text-sm sm:text-base w-full">
          <%= Array.isArray(success_msg) ? success_msg.join('<br/>') : success_msg %>
        </div>
      <% } %>

      <!-- Error Message -->
      <% if (typeof error_msg !== 'undefined' && error_msg && error_msg.length) { %>
        <div class="mb-4 p-3 sm:p-4 bg-red-100 text-red-700 rounded text-sm sm:text-base w-full">
          <%= Array.isArray(error_msg) ? error_msg.join('<br/>') : error_msg %>
        </div>
      <% } %>

      <!-- Edit Profile Form -->
      <form action="/profile/edit" method="POST" class="space-y-4 sm:space-y-6 w-full" novalidate>
        <!-- Name -->
        <div>
          <label for="name" class="block font-semibold mb-1 text-gray-700">Name</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            value="<%= (user && user.name) ? user.name : '' %>"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 text-sm sm:text-base" />
        </div>

        <!-- Email -->
        <div>
          <label for="email" class="block font-semibold mb-1 text-gray-700">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            value="<%= (user && user.email) ? user.email : '' %>"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 text-sm sm:text-base" />
        </div>

        <!-- Phone -->
        <div>
          <label for="phone" class="block font-semibold mb-1 text-gray-700">Phone</label>
          <input
            type="text"
            id="phone"
            name="phone"
            value="<%= (user && user.phone) ? user.phone : '' %>"
            class="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-600 text-sm sm:text-base" />
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="w-full sm:w-auto bg-green-600 text-white px-5 sm:px-6 py-2.5 rounded-lg hover:bg-green-700 transition font-semibold text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-green-700 focus:ring-offset-1">
          Update Profile
        </button>
      </form>
    </section>
  </main>

  <!-- Footer -->
  <%- include('partials/footer') %>
</body>
</html>
